<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>個人設定 - HubbleNego</title>
    <link rel="icon" href="favicon-32.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="hubble-design-tokens.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        body.page-settings {
            overflow: auto;
            background: var(--bg-note);
        }

        /* ヘッダー */
        .settings-header {
            background: var(--color-white);
            border-bottom: 1px solid var(--border-default);
            padding: var(--space-4) var(--space-6);
            display: flex;
            align-items: center;
            gap: 16px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .settings-logo {
            height: 28px;
        }

        .settings-header-title {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-semibold);
            color: var(--text-heading);
        }

        /* メインコンテナ */
        .settings-container {
            max-width: 720px;
            margin: 0 auto;
            padding: var(--space-6);
        }

        /* セクション */
        .settings-section {
            background: var(--color-white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            margin-bottom: var(--space-5);
            overflow: hidden;
        }

        .settings-section-header {
            padding: var(--space-5) var(--space-6);
            border-bottom: 1px solid var(--border-default);
        }

        .settings-section-title {
            font-size: var(--font-size-md);
            font-weight: var(--font-weight-semibold);
            color: var(--text-heading);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-section-title .material-symbols-outlined {
            color: var(--color-primary);
        }

        .settings-section-desc {
            font-size: var(--font-size-sm);
            color: var(--text-assist);
            margin-top: 6px;
            line-height: 1.5;
        }

        .settings-section-body {
            padding: var(--space-5) var(--space-6);
        }

        /* 設定グループ */
        .settings-group {
            margin-bottom: var(--space-6);
        }

        .settings-group:last-child {
            margin-bottom: 0;
        }

        .settings-group-title {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            color: var(--text-heading);
            margin-bottom: var(--space-3);
        }

        /* 通知チャネル */
        .channel-options {
            display: flex;
            gap: 12px;
        }

        .channel-option {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--bg-note);
            border: 2px solid transparent;
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all 0.2s;
        }

        .channel-option:hover {
            background: var(--bg-hover);
        }

        .channel-option.selected {
            border-color: var(--color-primary);
            background: var(--color-primary-container);
        }

        .channel-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid var(--border-default);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s;
        }

        .channel-option.selected .channel-checkbox {
            background: var(--color-primary);
            border-color: var(--color-primary);
        }

        .channel-checkbox .material-symbols-outlined {
            font-size: 16px;
            color: white;
            opacity: 0;
        }

        .channel-option.selected .channel-checkbox .material-symbols-outlined {
            opacity: 1;
        }

        .channel-icon {
            font-size: 24px;
            color: var(--text-assist);
        }

        .channel-option.selected .channel-icon {
            color: var(--color-primary);
        }

        .channel-info {
            flex: 1;
        }

        .channel-name {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            color: var(--text-heading);
        }

        .channel-desc {
            font-size: var(--font-size-xs);
            color: var(--text-assist);
            margin-top: 2px;
        }

        /* リマインダー設定 */
        .reminder-setting {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            background: var(--bg-note);
            border-radius: var(--radius-lg);
        }

        .reminder-setting-text {
            font-size: var(--font-size-sm);
            color: var(--text-default);
        }

        .reminder-select {
            padding: 8px 12px;
            border: 1px solid var(--border-default);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            color: var(--color-primary);
            background: var(--color-white);
            cursor: pointer;
            min-width: 100px;
        }

        .reminder-select:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        /* 静穏時間 */
        .quiet-hours {
            padding: 16px 20px;
            background: var(--bg-note);
            border-radius: var(--radius-lg);
        }

        .quiet-hours-row {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .toggle-switch {
            width: 48px;
            height: 26px;
            background: var(--border-default);
            border-radius: 13px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .toggle-switch.active {
            background: var(--color-primary);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: all 0.2s;
            box-shadow: var(--shadow-sm);
        }

        .toggle-switch.active::after {
            left: 25px;
        }

        .quiet-hours-label {
            font-size: var(--font-size-sm);
            color: var(--text-default);
            flex: 1;
        }

        .quiet-hours-times {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
            padding-left: 60px;
        }

        .time-input {
            padding: 8px 12px;
            border: 1px solid var(--border-default);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            color: var(--text-heading);
            background: var(--color-white);
            width: 100px;
        }

        .time-separator {
            font-size: var(--font-size-sm);
            color: var(--text-assist);
        }

        /* プレビュー */
        .notification-preview {
            margin-top: var(--space-6);
            padding-top: var(--space-5);
            border-top: 1px solid var(--border-default);
        }

        .preview-title {
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            color: var(--text-assist);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: var(--space-3);
        }

        .preview-card {
            background: var(--bg-note);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
        }

        .preview-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-default);
        }

        .preview-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .preview-item:first-child {
            padding-top: 0;
        }

        .preview-icon {
            width: 36px;
            height: 36px;
            background: var(--color-primary-container);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-primary);
            flex-shrink: 0;
        }

        .preview-icon.warning {
            background: var(--color-warning-container);
            color: var(--color-warning);
        }

        .preview-content {
            flex: 1;
        }

        .preview-event {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            color: var(--text-heading);
        }

        .preview-detail {
            font-size: var(--font-size-xs);
            color: var(--text-assist);
            margin-top: 2px;
        }

        /* 保存ボタン */
        .settings-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            padding: var(--space-5) var(--space-6);
            border-top: 1px solid var(--border-default);
        }

        .settings-btn {
            padding: 10px 24px;
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            cursor: pointer;
            transition: all 0.2s;
        }

        .settings-btn.secondary {
            background: var(--color-white);
            border: 1px solid var(--border-default);
            color: var(--text-default);
        }

        .settings-btn.secondary:hover {
            background: var(--bg-hover);
        }

        .settings-btn.primary {
            background: var(--color-primary);
            border: none;
            color: white;
        }

        .settings-btn.primary:hover {
            opacity: 0.9;
        }

        /* サイドナビゲーション */
        .settings-layout {
            display: flex;
            gap: var(--space-6);
            max-width: 960px;
            margin: 0 auto;
            padding: var(--space-6);
        }

        .settings-nav {
            width: 200px;
            flex-shrink: 0;
        }

        .settings-nav-list {
            background: var(--color-white);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 80px;
        }

        .settings-nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 18px;
            font-size: var(--font-size-sm);
            color: var(--text-default);
            text-decoration: none;
            border-left: 3px solid transparent;
            cursor: pointer;
            transition: all 0.15s;
        }

        .settings-nav-item:hover {
            background: var(--bg-hover);
        }

        .settings-nav-item.active {
            background: var(--color-primary-container);
            color: var(--color-primary);
            border-left-color: var(--color-primary);
            font-weight: var(--font-weight-semibold);
        }

        .settings-nav-item .material-symbols-outlined {
            font-size: 20px;
        }

        .settings-main {
            flex: 1;
            min-width: 0;
        }

        /* デモナビ */
        .demo-nav {
            position: fixed;
            bottom: 24px;
            right: 24px;
            display: flex;
            gap: 12px;
        }

        .demo-nav-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: var(--color-white);
            color: var(--text-default);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-full);
            text-decoration: none;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            box-shadow: var(--shadow-md);
            transition: all 0.2s;
        }

        .demo-nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .demo-nav-btn.primary {
            background: var(--color-primary);
            color: white;
            border: none;
        }
    </style>
</head>
<body class="page-settings">
    <!-- ヘッダー -->
    <header class="settings-header">
        <a href="index.html">
            <img src="hubble-logo.svg" alt="Hubble" class="settings-logo">
        </a>
        <div class="settings-header-title">個人設定</div>
    </header>

    <!-- メインコンテンツ -->
    <div class="settings-layout">
        <!-- サイドナビ -->
        <nav class="settings-nav">
            <div class="settings-nav-list">
                <div class="settings-nav-item">
                    <span class="material-symbols-outlined">person</span>
                    プロフィール
                </div>
                <div class="settings-nav-item active">
                    <span class="material-symbols-outlined">notifications</span>
                    通知
                </div>
                <div class="settings-nav-item">
                    <span class="material-symbols-outlined">security</span>
                    セキュリティ
                </div>
                <div class="settings-nav-item">
                    <span class="material-symbols-outlined">draw</span>
                    署名
                </div>
                <div class="settings-nav-item">
                    <span class="material-symbols-outlined">integration_instructions</span>
                    連携
                </div>
            </div>
        </nav>

        <!-- メインエリア -->
        <main class="settings-main">
            <section class="settings-section">
                <div class="settings-section-header">
                    <h2 class="settings-section-title">
                        <span class="material-symbols-outlined">notifications</span>
                        通知設定
                    </h2>
                    <p class="settings-section-desc">
                        すべての交渉に適用されるデフォルト設定です。<br>
                        個別の交渉で「重要」とマークすると、より早めにリマインドされます。
                    </p>
                </div>

                <div class="settings-section-body">
                    <!-- 通知の届け方 -->
                    <div class="settings-group">
                        <h3 class="settings-group-title">通知の届け方</h3>
                        <div class="channel-options">
                            <label class="channel-option selected" onclick="toggleChannel(this)">
                                <div class="channel-checkbox">
                                    <span class="material-symbols-outlined">check</span>
                                </div>
                                <span class="channel-icon material-symbols-outlined">mail</span>
                                <div class="channel-info">
                                    <div class="channel-name">メール</div>
                                    <div class="channel-desc">tanaka@example.com</div>
                                </div>
                            </label>
                            <label class="channel-option selected" onclick="toggleChannel(this)">
                                <div class="channel-checkbox">
                                    <span class="material-symbols-outlined">check</span>
                                </div>
                                <span class="channel-icon material-symbols-outlined">web</span>
                                <div class="channel-info">
                                    <div class="channel-name">ブラウザ</div>
                                    <div class="channel-desc">プッシュ通知</div>
                                </div>
                            </label>
                            <label class="channel-option" onclick="toggleChannel(this)">
                                <div class="channel-checkbox">
                                    <span class="material-symbols-outlined">check</span>
                                </div>
                                <span class="channel-icon material-symbols-outlined">tag</span>
                                <div class="channel-info">
                                    <div class="channel-name">Slack</div>
                                    <div class="channel-desc">未連携</div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- 期限リマインダー -->
                    <div class="settings-group">
                        <h3 class="settings-group-title">期限リマインダー</h3>
                        <div class="reminder-setting">
                            <span class="reminder-setting-text">重要な期限の</span>
                            <select class="reminder-select" id="reminder1">
                                <option value="14">2週間前</option>
                                <option value="7" selected>1週間前</option>
                                <option value="3">3日前</option>
                                <option value="1">1日前</option>
                            </select>
                            <span class="reminder-setting-text">と</span>
                            <select class="reminder-select" id="reminder2">
                                <option value="3">3日前</option>
                                <option value="1" selected>1日前</option>
                                <option value="0">当日</option>
                            </select>
                            <span class="reminder-setting-text">に通知</span>
                        </div>
                    </div>

                    <!-- 静穏時間 -->
                    <div class="settings-group">
                        <h3 class="settings-group-title">静穏時間</h3>
                        <div class="quiet-hours">
                            <div class="quiet-hours-row">
                                <div class="toggle-switch active" onclick="this.classList.toggle('active')"></div>
                                <span class="quiet-hours-label">この時間帯は通知しない</span>
                            </div>
                            <div class="quiet-hours-times">
                                <input type="time" class="time-input" value="22:00">
                                <span class="time-separator">〜</span>
                                <input type="time" class="time-input" value="08:00">
                            </div>
                        </div>
                    </div>

                    <!-- プレビュー -->
                    <div class="notification-preview">
                        <div class="preview-title">こんな通知が届きます</div>
                        <div class="preview-card">
                            <div class="preview-item">
                                <div class="preview-icon">
                                    <span class="material-symbols-outlined icon-sm">edit_document</span>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-event">田中さんが契約書を更新しました</div>
                                    <div class="preview-detail">「第3条の期間を6ヶ月に修正しました」</div>
                                </div>
                            </div>
                            <div class="preview-item">
                                <div class="preview-icon warning">
                                    <span class="material-symbols-outlined icon-sm">alarm</span>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-event">更新判断期限まであと1週間です</div>
                                    <div class="preview-detail">業務委託基本契約書 - 5月31日まで</div>
                                </div>
                            </div>
                            <div class="preview-item">
                                <div class="preview-icon">
                                    <span class="material-symbols-outlined icon-sm">draw</span>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-event">署名リクエストが届きました</div>
                                    <div class="preview-detail">秘密保持契約書 - 山田さんから</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-footer">
                    <button class="settings-btn secondary">キャンセル</button>
                    <button class="settings-btn primary">保存</button>
                </div>
            </section>
        </main>
    </div>

    <!-- デモナビ -->
    <div class="demo-nav">
        <a href="negotiation.html" class="demo-nav-btn">
            <span class="material-symbols-outlined icon-sm">description</span>
            交渉画面を見る
        </a>
        <a href="index.html" class="demo-nav-btn primary">
            <span class="material-symbols-outlined icon-sm">list</span>
            一覧へ
        </a>
    </div>

    <script>
        function toggleChannel(el) {
            el.classList.toggle('selected');
        }

        document.querySelectorAll('.settings-nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.settings-nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
